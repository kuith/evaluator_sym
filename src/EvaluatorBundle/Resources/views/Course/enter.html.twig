{% extends "EvaluatorBundle::layout.html.twig" %}

{% block content %}
    <div class="col-lg-6">
        <div class="card-block text-nowrap">
            Curso: {{course.name}}
        </div>
    </div>

    <table class="table table-striped">
        <thead class="thead-inverse">
            <tr>
                <th>Nombre Alumno</th>
                    {% for partial_no_final in partials_no_final %}
                    <th>
                        {{partial_no_final.name ~ ' (' ~ partial_no_final.weight ~ ')'}}
                    </th>
                {% endfor %}
                {% for final in partial_final %}
                    <th>
                        {{final.name }}
                    </th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for student in students %}
                <tr>
                    <td>
                        {{student.name}}
                    </td>
                    {% for partial_no_final in partials_no_final %}
                        {% for mark_no_final in marks_no_final %}
                            {% if mark_no_final.idPartial.id == partial_no_final.id  and  mark_no_final.idStudent.id == student.id %}
                                <td>
                                    {{mark_no_final.grade}}
                                </td>
                            {% endif %}
                        {% endfor %}
                    {% endfor %}
  
                    {% for final in partial_final %}
                        {% for mark_final in marks_final %}
                            {% if mark_final.idPartial.id == final.id  and  mark_final.idStudent.id == student.id %}
                                <td>
                                    {{mark_final.grade}}
                                </td>
                            {% endif %}
                        {% endfor %}
                    {% endfor %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
    <div class="clearfix"></div>
{% endblock %}
